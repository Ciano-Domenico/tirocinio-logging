# elasticsearch.yml - Configurazione ottimizzata per sviluppo
cluster.name: "elk-tirocinio"
node.name: "elk-node-1"

# Network
network.host: 0.0.0.0
http.port: 9200

# Discovery (single node)
discovery.type: single-node

# Sicurezza disabilitata per sviluppo
xpack.security.enabled: false
xpack.security.enrollment.enabled: false
xpack.security.http.ssl.enabled: false
xpack.security.transport.ssl.enabled: false

# Ottimizzazioni memoria per ambiente di sviluppo
bootstrap.memory_lock: true
indices.fielddata.cache.size: "30%"
indices.memory.index_buffer_size: "10%"

# Ottimizzazioni per log retention
action.destructive_requires_name: true
cluster.routing.allocation.disk.watermark.low: "85%"
cluster.routing.allocation.disk.watermark.high: "90%"
cluster.routing.allocation.disk.watermark.flood_stage: "95%"

# Thread pool ottimizzazioni
thread_pool.write.queue_size: 200
thread_pool.search.queue_size: 1000

# Index template per nginx logs
index.number_of_shards: 1
index.number_of_replicas: 0
index.refresh_interval: "5s"

# Mapping dinamico
index.mapping.ignore_malformed: true
index.mapping.coerce: true

# Logging
logger.root: INFO
logger.org.elasticsearch.transport: WARN
logger.org.elasticsearch.discovery: WARN
